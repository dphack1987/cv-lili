<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CV Martha Liliana Rodríguez Romo | Relacionista Pública</title>
    <meta name="description" content="CV de Martha Liliana Rodríguez Romo, Relacionista Pública enfocada en ayuda social, liderazgo y sostenibilidad.">
    <link rel="icon" href="images/favicon.ico" type="image/x-icon"> <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <link rel="stylesheet" href="css/output.css">

    <style>
        body {
            font-family: 'Montserrat', sans-serif;
            background-color: #f3f4f6; /* Tailwind gray-100 */
            color: #374151; /* Tailwind gray-700 */
        }
        .whatsapp-button {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #25D366; /* WhatsApp Green */
            color: white;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2em;
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            text-decoration: none;
            transition: transform 0.3s ease-in-out;
        }
        .whatsapp-button:hover {
            transform: scale(1.1);
        }
        .profile-img {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid #4a90e2; /* Un color de borde distintivo */
        }
        .nav-link {
            cursor: pointer;
            transition: color 0.3s;
        }
        .nav-link:hover {
            color: #4a90e2; /* Azul para hover */
        }
        /* Estilos para que el scroll suave funcione bien */
        html {
            scroll-behavior: smooth;
        }
    </style>
</head>
<body class="relative">

    <a href="https://wa.me/573145092255?text=Hola,%20estoy%20interesado%20en%20contactar%20a%20Martha%20Liliana%20Rodríguez%20Romo." class="whatsapp-button" target="_blank" aria-label="WhatsApp de Martha Liliana">
        <i class="fab fa-whatsapp"></i>
    </a>

    <div class="container mx-auto px-4 py-8">
        <header class="bg-white shadow-lg rounded-lg p-6 mb-8 text-center relative">
            <div class="flex flex-col items-center">
                <img src="images/foto-perfil.jpeg" alt="Foto de perfil de Martha Liliana Rodríguez Romo" class="profile-img mb-4">
                <h1 class="text-4xl font-bold text-gray-800" data-lang-key="name"></h1>
                <p class="text-xl text-gray-600 mb-4" data-lang-key="title"></p>
                <div class="text-gray-500 text-lg">
                    <p data-lang-key="location"></p>
                    <p>
                        <a href="mailto:liliromo56@gmail.com" class="text-blue-600 hover:underline">liliromo56@gmail.com</a> | 
                        <a href="tel:+573145092255" class="text-blue-600 hover:underline">+573145092255</a>
                        </p>
                </div>
            </div>

            <div class="absolute top-4 right-4 flex space-x-2">
                <button id="lang-es" class="px-3 py-1 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors text-sm">ES</button>
                <button id="lang-en" class="px-3 py-1 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 transition-colors text-sm">EN</button>
            </div>

            <nav class="mt-6">
                <ul class="flex flex-wrap justify-center space-x-4 md:space-x-6 text-base md:text-lg font-semibold">
                    <li><a href="#summary" class="nav-link text-gray-700 hover:text-blue-600 transition-colors" data-lang-key="nav_summary"></a></li>
                    <li><a href="#experience" class="nav-link text-gray-700 hover:text-blue-600 transition-colors" data-lang-key="nav_experience"></a></li>
                    <li><a href="#skills" class="nav-link text-gray-700 hover:text-blue-600 transition-colors" data-lang-key="nav_skills"></a></li>
                    <li><a href="#education" class="nav-link text-gray-700 hover:text-blue-600 transition-colors" data-lang-key="nav_education"></a></li>
                    <li><a href="#certifications" class="nav-link text-gray-700 hover:text-blue-600 transition-colors" data-lang-key="nav_certifications"></a></li>
                    <li><a href="#allies" class="nav-link text-gray-700 hover:text-blue-600 transition-colors" data-lang-key="nav_allies"></a></li>
                </ul>
            </nav>
        </header>

        <main>
            <section id="summary" class="bg-white shadow-lg rounded-lg p-6 mb-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-4 border-b-2 border-blue-500 pb-2" data-lang-key="sec_summary"></h2>
                <p class="text-gray-700 leading-relaxed" id="summary_text"></p>
            </section>

            <section id="experience" class="bg-white shadow-lg rounded-lg p-6 mb-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-4 border-b-2 border-blue-500 pb-2" data-lang-key="sec_experience"></h2>
                <div id="experience-content">
                    </div>
            </section>

            <section id="skills" class="bg-white shadow-lg rounded-lg p-6 mb-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-4 border-b-2 border-blue-500 pb-2" data-lang-key="sec_skills"></h2>
                <ul class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-gray-700" id="skills-list">
                    </ul>
            </section>

            <section id="education" class="bg-white shadow-lg rounded-lg p-6 mb-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-4 border-b-2 border-blue-500 pb-2" data-lang-key="sec_education"></h2>
                <ul class="list-disc pl-5 text-gray-700 space-y-2" id="education-list">
                    </ul>
            </section>

            <section id="certifications" class="bg-white shadow-lg rounded-lg p-6 mb-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-4 border-b-2 border-blue-500 pb-2" data-lang-key="sec_certifications"></h2>
                <ul class="list-disc pl-5 text-gray-700 space-y-2" id="certifications-list">
                    </ul>
            </section>

            <section id="allies" class="bg-white shadow-lg rounded-lg p-6 mb-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-4 border-b-2 border-blue-500 pb-2" data-lang-key="sec_allies"></h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="allies-grid">
                    </div>
            </section>
        </main>
    </div>

    <script>
        const langData = {}; // Este objeto contendrá los datos de idioma cargados desde los JSON
        let currentLang = 'es'; // Idioma por defecto

        // Función para cargar los datos de idioma desde los archivos JSON
        async function loadLanguageData() {
            try {
                const esResponse = await fetch('data/es.json');
                langData['es'] = await esResponse.json();

                const enResponse = await fetch('data/en.json');
                langData['en'] = await enResponse.json();

                // Intentar cargar el idioma preferido del navegador o uno guardado
                const savedLang = localStorage.getItem('cvLang');
                if (savedLang && (savedLang === 'es' || savedLang === 'en')) {
                    currentLang = savedLang;
                } else if (navigator.language.startsWith('en')) {
                    currentLang = 'en';
                }

                applyLanguage(currentLang); // Aplica el idioma inicial al cargar
            } catch (error) {
                console.error('Error al cargar los archivos de idioma:', error);
            }
        }

        // Función para aplicar el idioma seleccionado a los elementos del DOM
        function applyLanguage(lang) {
            currentLang = lang;
            localStorage.setItem('cvLang', lang); // Guardar el idioma seleccionado
            const data = langData[lang];

            // Actualizar elementos con atributo data-lang-key
            document.querySelectorAll('[data-lang-key]').forEach(element => {
                const key = element.getAttribute('data-lang-key');
                if (data[key] !== undefined) { // Usar undefined para manejar casos donde la clave podría no existir
                    element.textContent = data[key];
                }
            });

            // Actualizar Resumen (usando el ID 'summary_text' que es un párrafo)
            const summaryTextElement = document.getElementById('summary_text');
            if (summaryTextElement && data.summary && data.summary.text) {
                summaryTextElement.textContent = data.summary.text;
            }

            // Actualizar Experiencia
            const experienceContent = document.getElementById('experience-content');
            experienceContent.innerHTML = ''; // Limpiar antes de añadir
            if (data.experience) { // Añadir verificación si 'experience' existe
                data.experience.forEach(exp => {
                    const expDiv = document.createElement('div');
                    expDiv.className = 'mb-6 p-4 border border-gray-200 rounded-md';
                    expDiv.innerHTML = `
                        <h3 class="text-xl font-semibold text-gray-800">${exp.position} - ${exp.organization}</h3>
                        <p class="text-gray-600 mb-2">${exp.period}</p>
                        <ul class="list-disc pl-5 text-gray-700 space-y-1">
                            ${exp.responsibilities.map(res => `<li>${res}</li>`).join('')}
                        </ul>
                    `;
                    experienceContent.appendChild(expDiv);
                });
            }

            // Actualizar Habilidades
            const skillsList = document.getElementById('skills-list');
            skillsList.innerHTML = '';
            if (data.skills) { // Añadir verificación si 'skills' existe
                data.skills.forEach(skill => {
                    const li = document.createElement('li');
                    li.className = 'flex items-center text-lg';
                    li.innerHTML = `<i class="fas fa-check-circle text-blue-500 mr-2"></i> ${skill}`;
                    skillsList.appendChild(li);
                });
            }

            // Actualizar Educación
            const educationList = document.getElementById('education-list');
            educationList.innerHTML = '';
            if (data.education) { // Añadir verificación si 'education' existe
                data.education.forEach(edu => {
                    const li = document.createElement('li');
                    li.textContent = edu;
                    educationList.appendChild(li);
                });
            }

            // Actualizar Certificaciones
            const certificationsList = document.getElementById('certifications-list');
            certificationsList.innerHTML = '';
            if (data.certifications) { // Añadir verificación si 'certifications' existe
                data.certifications.forEach(cert => {
                    const li = document.createElement('li');
                    li.textContent = cert;
                    certificationsList.appendChild(li);
                });
            }

            // Actualizar Aliados Estratégicos
            const alliesGrid = document.getElementById('allies-grid');
            alliesGrid.innerHTML = '';
            if (data.allies) { // Añadir verificación si 'allies' existe
                data.allies.forEach(ally => {
                    const allyDiv = document.createElement('div');
                    allyDiv.className = 'bg-gray-100 p-4 rounded-lg text-center flex flex-col items-center justify-between';
                    allyDiv.innerHTML = `
                        ${ally.logo ? `<img src="${ally.logo}" alt="${ally.name} Logo" class="w-24 h-24 object-contain mx-auto mb-2">` : '<i class="fas fa-handshake text-5xl text-blue-500 mb-2"></i>'}
                        <h3 class="text-xl font-semibold text-gray-800 mb-1">${ally.name}</h3>
                        <p class="text-gray-600 text-sm">${ally.location}</p>
                        ${ally.description ? `<p class="text-gray-700 text-sm mt-2">${ally.description}</p>` : ''}
                        ${ally.url ? `<a href="${ally.url}" target="_blank" class="text-blue-600 hover:underline mt-2 text-sm">${data.visit_website}</a>` : ''}
                    `;
                    alliesGrid.appendChild(allyDiv);
                });
            }

            // Actualizar el estado de los botones de idioma
            const langEsBtn = document.getElementById('lang-es');
            const langEnBtn = document.getElementById('lang-en');

            if (langEsBtn && langEnBtn) { // Asegurarse de que los botones existan
                if (lang === 'es') {
                    langEsBtn.classList.add('bg-blue-500', 'text-white');
                    langEsBtn.classList.remove('bg-gray-300', 'text-gray-700');
                    langEnBtn.classList.remove('bg-blue-500', 'text-white');
                    langEnBtn.classList.add('bg-gray-300', 'text-gray-700');
                } else {
                    langEnBtn.classList.add('bg-blue-500', 'text-white');
                    langEnBtn.classList.remove('bg-gray-300', 'text-gray-700');
                    langEsBtn.classList.remove('bg-blue-500', 'text-white');
                    langEsBtn.classList.add('bg-gray-300', 'text-gray-700');
                }
            }
        }

        // Event Listeners para los botones de idioma
        document.getElementById('lang-es').addEventListener('click', () => applyLanguage('es'));
        document.getElementById('lang-en').addEventListener('click', () => applyLanguage('en'));

        // Cargar los datos de idioma al iniciar
        document.addEventListener('DOMContentLoaded', loadLanguageData);
    </script>
</body>
</html>